{% extends 'base.html' %}
{% load static %}
{% load operation %}
{% block title %} Usuarios {% endblock %}
{% block image_block %}
{% comment %} <link rel="stylesheet" href="{% static 'css/secundary_style.css' %}"> {% endcomment %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'css/principal_style.css' %}">
{% comment %} <link rel="stylesheet" href="https://dl.dropbox.com/scl/fi/mji6gnf1x22n1mczabfb0/principal_style.css?rlkey=a00iz56alb8eh01rla3lbbyux&dl=0"> {% endcomment %}
<link rel="stylesheet" href="https://dl.dropbox.com/scl/fi/3wq2ax1oudmm1x8pudfpj/secundary_style.css?rlkey=hf5nul7oh9a3odsrm9j27uqx7&dl=0">

{% comment %} <link rel="stylesheet" href="{% static 'css/secundary_style.css' %}"> {% endcomment %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>

{% comment %} <header class="info-header">
  <div id="page-intro" class="container-fluid d-flex align-items-center justify-content-center">
    <div class="row d-flex justify-content-center text-center " style="width: 40%; justify-self: center;align-self: center;margin-top: 5rem;">
      <div id="carouselExample" class="carousel slide" style=" margin-left:0px;width: 100%;">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/Las-universidades-se-adaptan-a-las-necesidades-02.png" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem ;">Primero de primaria</p>
          </div>
          <div class="carousel-item">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/Como-atraer-y-retener-alumnos-extranjeros-01.png?noresize" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem ;">Segundo de primaria</p>
          </div>
          <div class="carousel-item">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/5-ejemplos-de-como-fijar-los-objetivos-SMART-02.png" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem;;">Tercero de primaria</p>
          </div>
          <div class="carousel-item">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/5-ejemplos-de-como-fijar-los-objetivos-SMART-02.png" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem;;">Cuarto de primaria</p>
          </div>
          <div class="carousel-item">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/5-ejemplos-de-como-fijar-los-objetivos-SMART-02.png" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem;;">Quinto de primaria</p>
          </div>
          <div class="carousel-item">
            <img style="width:100%;" src="https://www.sneakerlost.es/hubfs/5-ejemplos-de-como-fijar-los-objetivos-SMART-02.png" class="d-block " alt="nueva imagen2">
            <p style="color: white;font-size: 1.5rem;;">Sexto de primaria</p>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>
  </div>

</header>  {% endcomment %}
<div  style="height: 16vh;">
  
</div>
{% endblock %}

{% block content %}

    <div class="d-flex row justify-content-center align-items-center user-list-view" >
      <h2 class="text-center " style="font-size: 3rem;margin-bottom: 2rem;">Lista de usuarios</h2>    
        <a type="button" class="btn btn-primary boton-agregar" href="{% url 'register' %}">Agregar usuario</a>    
        <div class="d-flex justify-content-center mb-5 " style="">
            <div class="contenedor-niveles">            
                <div  style="width: 100%;">
                  <div class="card card-body d-flex justify-content-center ">
                    <div style="width: 100%;" class="d-flex justify-content-center ">
                    
                        <table class="table table-hover">
                            <thead>
                                <tr>                                    
                                    <th style="width: 10%;" scope="col">Usuario</th>
                                    <th style="width: 10%;" scope="col">Email</th>
                                    <th style="width: 10%;" scope="col">imagen</th>
                                    <th style="width: 20%;" scope="col">Nombres</th>
                                    <th style="width: 15%;" scope="col">Apellidos</th>
                                    <th style="width: 15%;" scope="col">Tipo de usuario</th>
                                    <th style="width: 20%;" scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody style="width: 100%;">
                                {% for user in usersAll.all %}                                     
                                    <tr>
                                        <div style="width: 100%;" class=" modal  " id="{{user.user.username|parseada}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="{{user.user.username|combinacionLabel}}" aria-hidden="true" style="display: none;">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header bg-primary-subtle">
                                                        <h1 class="modal-title fs-5" style="color:black ;" id="staticBackdropLabel">{{user.user.username}}</h1>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    
                                                    <div class="modal-body bg-warning-subtle">
                                                        <div class="d-flex col align-items-center justify-content-center mr-10">
                                                            <div style="color: black;">
                                            
                                                 
                                                            </div>
                                                            <div >
                                                                <img style="width: 200px;height: 200px;border-radius: 1000px;" src="{{user.profile_pic.url}}" alt="no hay">                  
                                                            </div>          
                                                        </div> 
                                                    </div>
                                                                                                                                             
                                            </div>
                                        </div> 
                                    </tr> 
                                    <tr style="width: 90%;">  
                                        <td style="width: 10%;">{{user.user.username}}</td>
                                        <td style="width: 10%;">{{user.user.email}}</td>
                                        <td style="width: 10%;"><a type="button" class="imagen-usuario" style="text-decoration: none;"  data-bs-toggle="modal" data-bs-target={{user.user.username|combinacion}} aria-expanded="false" href=""><img style="width: 40px;height: 40px;border-radius: 1000px;" src="{{user.profile_pic.url}}" alt="no hay"></a></td>  
                                        <td style="width: 20%;">{{user.user.first_name}}</td>
                                        <td style="width: 15%;">{{user.user.last_name}}</td>      
                                        <td style="width: 15%;">{{user.user_type|renombrar}}</td> 
                                        <td style="width: 20%;" scope="col"><a style="width: 48%;" href="{% url 'niveles:user_update' id=user.id %}"  class="btn btn-outline-success" href="{% url 'niveles:user_update' id=user.id %}">Editar</a><span style="width: 4%;"></span> <a style="width: 48%;"  href="{% url 'niveles:user_delete' id=user.id %}"  class="btn btn-outline-danger">Eliminar</a></td>    
                                        
                                    </tr>                                                                                          
                                                                                        
                                {%endfor%}                                                               
                            </tbody>
                        </table>
                    </div>                           
                </div>                          
            </div>                  
        </div>
    </div>       
{%endblock%}

